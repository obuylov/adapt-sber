# adapt-sber-txtmessages

Компонент-диалог, который используется в курсе как для подводки к упражнению, для обратной связи после него, или для обычного повествования.
Основан на компоненте **adapt-sber-txtmessages**.

Текущая версия компонента позволяет:
1.	Автоматически показывать сообщения через определенное время (таймер для показа)
2.	Выводить сразу несколько сообщений от одного героя
3.	Настраивать аватар собеседника
4.	Присылать сообщение о том, что противник вошел или вышел из чата
5.	Отправлять только изображение
6.	Выводить сообщение в зависимости от пройденности игры
7.	Не показывать сообщение вообще, если игра провалена
8.	Задать автоматическую пройденность для диалога
9.	Указывать с какой стороны будет «прилетать» сообщение
10.	Блокировать показ сообщений одного компонента, если еще не «дошли» все сообщения из другого компонента диалога

Для:

1.	Настройки времени отправки сообщений нужно изменить свойство `offsetTime`. Стандартное значение – `2000` (измеряется в миллисекундах, равно 2-м секундам).
2.	Вывода нескольких сообщений свойство `body` нужно изменить с обычного текстового на массив со строками
3.	Настройки аватара используется свойство `_graphic`, которое есть у каждого сообщения
4.	Показа входа и выхода соперника в чат нужно задать положение сообщения `center` и добавить класс `online`
5.	Отправки только изображения в `body` вводится только тег img
6.	Вывода обратной связи в зависимости от прохождения игры есть свойство `_assessmentId`, в которое нужно ввести `id` теста. И далее в `body` становится объектом с полями `correct` и `incorrect` (каждый из них может быть массивом, если нужно вывести несколько сообщений)
7.	Отслеживания игры есть свойство `dependsOnAnswer`, которое смотрит как пройдена игра. Если она провалена – сообщение не показывается, иначе показывается.
8.	Автоматического выставления статуса «Пройдено» диалогу можно прописать свойство `autoCompleted`
9.	Указания стороны прихода сообщения есть свойство `_align`, которое принимает значения:
        - `left` – слева. Для ментора и противника
        - `center` – по центру. Для сообщений про «вошел в чат»
        - `right` – справа. Для реплик игрока
10.	Блокировки показа сообщений есть свойство `waitFor`, куда нужно ввести id компонента-диалога, которого нужно дождаться

Компонент считается пройденным после того, как появится последнее сообщение.

При повторном заходе на страницу с диалогом срабатывает проверка, и, если диалог уже был просмотрен ранее, сообщения автоматически показываются все и сразу, снова ждать по 2 секунды не нужно.
